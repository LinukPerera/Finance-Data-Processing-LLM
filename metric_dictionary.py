# metric_dictionary.py
# Centralized dictionary for financial metric mappings, definitions, and suggested queries

# Suggested queries to guide users on supported query patterns
suggested_queries = [
    "P/E for ALLI",
    "Revenue 3M for LOLC",
    "Cumulative Profit for COMB",
    "cumulative profit and cumulative revenue for ALLI",
    #"Debt/Equity for TYRE",
    #"Free Cash Flow for SAMP",
    #"EBITDA for LIOC",
    #"Market Cap for HNB",
    # Sector metric queries
    "P/E for sector BANKS",
    "Revenue 3M for sector INSURANCE",
    "ROE for sector DIVERSIFIED FINANCIALS",
    "Dividend Yield for sector TELECOMMUNICATION SERVICES",
    #"Cumulative Revenue for sector ALL SECTORS",
    # General metric queries
    "Average P/E",
    #"Average Debt/Equity",
    #"Average Free Cash Flow",
    #"Average EBITDA",
    # Definition queries
    "What is P/E",
    "Define Dividend Yield",
    "What is Debt/Equity",
    "Define Free Cash Flow",
    "What is Market Cap",
    # Best stock/sector queries
    "Best stock by P/E",
    "Best stock by Revenue 3M",
    "Best sector by ROE",
    "Best sector by Cumulative Profit",
    #"Top stocks by Debt/Equity",
    #"Top sectors by Free Cash Flow",
    # Best metric queries
    #"Best P/E",
    #"Lowest Debt/Equity",
    "Highest Revenue 3M",
    "Highest Market Cap",
    # Compare stocks queries
    "Compare stocks ALLI, COMB by P/E",
    "Compare stocks HNB, SAMP by Revenue 3M",
    #"Compare stocks TYRE, LIOC by Free Cash Flow",
    "Which stocks are best ALLI, TYRE by Dividend Yield",
    # Compare mixed queries
    "ALLI vs sector BANKS by P/E",
    "HNB vs sector INSURANCE by Revenue 3M",
    "SAMP vs sector INSURANCE by Revenue 3M",
    "SAMP vs sector INSURANCE by Profit 3M",
    #"TYRE vs LIOC vs sector MANUFACTURING by Debt/Equity",
    "COMB vs sector TELECOMMUNICATION SERVICES by Cumulative Profit",
    # Multi-sheet queries
    "P/E and Revenue 3M for ALLI",
    "Dividend Yield and Div Yield (Cash+Scrip) for CDB"
]

# Metric mappings for normalizing query inputs to standard metric names
metric_mappings = {
    '52w high': '52W High',
    '52w low': '52W Low',
    'assets': 'Assets Bn',
    'assets bn': 'Assets Bn',
    'beta': 'Beta',
    'c price': 'C.Price',
    'cmp': 'C.Price',
    'cumulative profit': 'Cumulative Profit',
    'cumulative revenue': 'Cumulative Revenue',
    'current price': 'C.Price',
    'debt/equity': 'Debt/Equity',
    'debt equity': 'Debt/Equity',
    'debt to equity': 'Debt/Equity',
    'div yield': 'Div Yield',
    'dividend': 'Total Dividend',
    'dividend cash': 'Dividend Cash',
    'dividend scrip': 'Dividend Scrip',
    'dividend yield': 'Div Yield',
    'div yield': 'Div Yield',
    'divyield': 'Div Yield',
    'dividendyield': 'Div Yield',
    'ebitda': 'EBITDA',
    'eps': 'EPS',
    'equity': 'Equity Bn',
    'equity bn': 'Equity Bn',
    'TELECOM':'TELECOMMUNICATION SERVICES',
    'telecom':'TELECOMMUNICATION SERVICES',
    'fcf': 'Free Cash Flow',
    'foreign qty': 'Foreign Qty',
    'free cash flow': 'Free Cash Flow',
    'gross margin': 'Gross Margin',
    'issued qty': 'Issued Qty Mn',
    'issued qty mn': 'Issued Qty Mn',
    'market cap': 'Market Cap',
    'market capitalization': 'Market Cap',
    'nav': 'NAV',
    'net profit': 'Profit 3M',
    'net profit margin': 'Net Profit Margin',
    'p/b': 'PBV',
    'p/bv': 'PBV',
    'p/e': 'P/E',
    'pbv': 'PBV',
    'pe': 'P/E',
    'payout': 'Payout Ratio',
    'payout ratio': 'Payout Ratio',
    'price/book': 'PBV',
    'price/earnings': 'P/E',
    'price/book value': 'PBV',
    'profit': 'Profit 3M',
    'profit 3m': 'Profit 3M',
    'quick ratio': 'Quick Ratio',
    'revenue': 'Revenue 3M',
    'revenue 3m': 'Revenue 3M',
    'roe': 'ROE',
    'rsi': 'RSI',
    'rsi 14d': 'RSI',
    'total dividend': 'Total Dividend',
    'ttm eps': 'TTM EPS',
    'ytd': 'YTD Gain',
    'ytd gain': 'YTD Gain'
}

# Metric definitions for providing descriptions
metric_definitions = {
    '52W High': '52-Week High: The highest stock price over the past 52 weeks.',
    '52W Low': '52-Week Low: The lowest stock price over the past 52 weeks.',
    'Assets Bn': 'Assets (Billion): Total assets of the company, measured in billions.',
    'Beta': 'Beta: Measures a stock’s volatility relative to the market. A beta of 1 indicates market-equivalent volatility.',
    'C.Price': 'Current Price: The current market price of the stock.',
    'Cumulative Profit': 'Cumulative Profit: Total profit accumulated over the fiscal year.',
    'Cumulative Revenue': 'Cumulative Revenue: Total revenue accumulated over the fiscal year.',
    'Debt/Equity': 'Debt-to-Equity Ratio: Total debt divided by shareholders’ equity, indicating financial leverage.',
    'Dividend Cash': 'Dividend (Cash): Cash dividend paid per share.',
    'Dividend Scrip': 'Dividend (Scrip): Dividend paid in additional shares instead of cash.',
    'Div Yield': 'Dividend Yield: Annual dividend payment as a percentage of the stock price.',
    'EBITDA': 'Earnings Before Interest, Taxes, Depreciation, and Amortization: A measure of operating performance.',
    'EPS': 'Earnings Per Share: Net profit divided by the number of outstanding shares.',
    'Equity Bn': 'Equity (Billion): Total shareholders’ equity, measured in billions.',
    'Free Cash Flow': 'Free Cash Flow: Cash generated after accounting for capital expenditures, indicating financial health.',
    'Gross Margin': 'Gross Margin: Gross profit as a percentage of revenue, reflecting cost efficiency.',
    'Issued Qty Mn': 'Issued Quantity (Million): Total number of shares issued, measured in millions.',
    'Foreign Qty': 'Foreign Quantity: Number of shares held by foreign investors.',
    'Market Cap': 'Market Capitalization: Total market value of a company’s outstanding shares.',
    'NAV': 'Net Asset Value: Book value per share, calculated as total equity divided by shares outstanding.',
    'Net Profit Margin': 'Net Profit Margin: Net profit as a percentage of revenue, indicating profitability.',
    'P/E': 'Price-to-Earnings Ratio: Stock price divided by earnings per share, assessing valuation.',
    'PBV': 'Price-to-Book Ratio: Market value compared to book value (net assets).',
    'Payout Ratio': 'Payout Ratio: Proportion of earnings paid out as dividends.',
    'Profit 3M': 'Profit (3 Months): Quarterly net profit for the specified period.',
    'Quick Ratio': 'Quick Ratio: Measures ability to meet short-term liabilities with liquid assets.',
    'Revenue 3M': 'Revenue (3 Months): Quarterly revenue for the specified period.',
    'ROE': 'Return on Equity: Net income divided by shareholders’ equity, measuring profitability.',
    'RSI': 'Relative Strength Index (14 Days): Momentum indicator; >70 suggests overbought, <30 suggests oversold.',
    'Total Dividend': 'Total Dividend: Sum of cash and scrip dividends paid per share.',
    'TTM EPS': 'Trailing Twelve Months EPS: Earnings per share over the past 12 months.',
    'YTD Gain': 'Year-to-Date Gain: Percentage change in stock price since the start of the year.'
}

# Metric ranges for slider and number input (min, max, step)
metric_ranges = {
    "P/E": (0.0, 100.0, 0.1),
    "Div Yield": (0.0, 20.0, 0.01),
    "NAV": (0.0, 1000.0, 0.1),
    "PBV": (0.0, 10.0, 0.01),
    "ROE": (0.0, 50.0, 0.1),
    "Revenue 3M": (0.0, 1_000_000_000.0, 100_000.0),
    "C.Price": (0.0, 10_000.0, 1.0),
    "Assets": (0.0, 10_000_000_000.0, 1_000_000.0)
}
